<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Submit Civic Issue Report</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

  <!-- Main CSS -->
  <link rel="stylesheet" href="../../css/user/ReportIssue.css">

  <!-- Leaflet Map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="topbar">
  <div class="topbar-inner">

    <!-- Brand -->
    <div class="brand">
      <a href="../../html/user/UserDashboard.html" class="brand-link">
        <img src="../../image/logo1.png" alt="Civic logo">
      </a>
      <h2>CityTransparency</h2>
    </div>

    <!-- Right Section -->
    <div class="right-section">

      <!-- Navigation -->
      <nav class="nav">
        <a href="../../html/user/UserDashboard.html" >My Dashboard</a>
        <a href="../../html/user/ReportIssue.html">Report Issue</a>
        <a href="../../html/user/CommunityPage.html">Community Board</a>
        <a href="../../html/user/MyReports.html"> MyReports </a>
      </nav>

      <!-- Profile -->
      <div class="profile dropdown">
        <!-- Bell -->
        <a href="../../html/user/notification.html" class="icon-btn">ðŸ””</a>

        <!-- Text -->
        <div class="profile-text">
          <div class="role">CIVIC HERO</div>
          <div class="name">Alex Johnson</div>
        </div>

        <!-- Avatar -->
        <div class="avatar" id="avatarBtn">B</div>

        <!-- Dropdown -->
        <div class="dropdown-menu" id="avatarMenu">
          <a href="../../html/user/UserProfile.html">My Profile Settings</a>
          <a href="/logout" class="danger">Logout</a>
        </div>
      </div>

    </div>
  </div>
</header>


<!-- ================= MAIN ================= -->
<main class="container">

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a href="../../html/user/UserDashboard.html">Home</a> /
    <a href="../../html/user/ReportIssue.html">Reports</a> /
    <span>New Report</span>
  </div>

  <h1>Submit Civic Issue Report</h1>
  <p class="subtitle">Help improve your neighborhood by reporting problems in real time.</p>

  <!-- Progress -->
  <section class="progress">
    <div class="progress-header">
      <span>Step 2 of 3: Issue Details</span>
      <strong>66% Complete</strong>
    </div>
    <div class="progress-bar">
      <div class="fill"></div>
    </div>
    <div class="progress-steps">
      <span>Media Uploaded</span>
      <span class="active">Adding Details</span>
      <span>Final Confirmation</span>
    </div>
  </section>

  <div class="layout">

    <!-- ================= MEDIA ================= -->
    <section class="media">
      <h3><span class="material-symbols-outlined">photo_camera</span> Issue Evidence</h3>

      <div class="preview">
        <button class="delete"><span class="material-symbols-outlined">delete</span></button>
        <p>Select files</p>
      </div>

      <div class="thumbnails">
        <div class="thumb active"></div>
        <div class="thumb add"><span class="material-symbols-outlined">add_a_photo</span></div>
        <div class="thumb add"><span class="material-symbols-outlined">videocam</span></div>
      </div>

      <div class="tip">
        <span class="material-symbols-outlined">info</span>
        Upload clear photos from multiple angles to speed up resolution.
      </div>
    </section>

    <!-- ================= FORM ================= -->
    <section class="form">

      <!-- Categories -->
      <div class="categories">
        <label>Select Issue Category</label>
        <div class="category-grid">
          <button class="active"><span class="material-symbols-outlined">construction</span>Pothole</button>
          <button><span class="material-symbols-outlined">lightbulb</span>Streetlight</button>
          <button><span class="material-symbols-outlined">format_paint</span>Graffiti</button>
          <button><span class="material-symbols-outlined">delete_outline</span>Littering</button>
        </div>
      </div>

      <!-- Description -->
      <div class="description">
        <label>Describe the Issue</label>
        <textarea placeholder="Explain the problem in detail..."></textarea>
        <!-- <button class="voice">
          <span class="material-symbols-outlined">mic</span>
          Voice Explanation
        </button> -->
      </div>

      <!-- ================= MAP ================= -->
      <div class="map">
        <label>Confirm Location</label>

        <input id="address" placeholder="Fetching locationâ€¦" readonly />

        <div id="map"></div>

        <div id="gpsBadge" class="gps loading">
          <span class="material-symbols-outlined" id="gpsIcon">gps_not_fixed</span>
          <span id="gpsStatus">Locatingâ€¦</span>
        </div>
      </div>

    </section>
  </div>

  <!-- ================= FOOTER ================= -->
  <div class="footer-actions">
    <button class="ghost">Save Draft</button>
    <div>
      <button class="secondary">Back</button>
      <button class="primary">
        Submit Report
        <span class="material-symbols-outlined">send</span>
      </button>
    </div>
  </div>

</main>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- Main Script -->
<script src="../../js/user/reportissue.js"></script>
<script src="../../js/user/userheader.js"></script>
</body>
</html>
